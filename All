// Navbar toggle
function toggleMenu() {
  document.querySelector(".nav-links").classList.toggle("active");
}

// Age Calculator
function calculateAge() {
  const dob = document.getElementById("dob").value;
  if (!dob) {
    document.getElementById("ageResult").innerText = "‚ö†Ô∏è Please select your date of birth!";
    return;
  }

  const dobDate = new Date(dob);
  const today = new Date();

  let years = today.getFullYear() - dobDate.getFullYear();
  let months = today.getMonth() - dobDate.getMonth();
  let days = today.getDate() - dobDate.getDate();

  if (days < 0) {
    months--;
    days += new Date(today.getFullYear(), today.getMonth(), 0).getDate();
  }
  if (months < 0) {
    years--;
    months += 12;
  }

  document.getElementById("ageResult").innerText =
    `üéâ You are ${years} years, ${months} months, and ${days} days old.`;
}

// BMI Calculator
function calculateBMI() {
  const weight = document.getElementById("weight").value;
  const height = document.getElementById("height").value;

  if (!weight || !height) {
    document.getElementById("bmiResult").innerText = "‚ö†Ô∏è Please enter both weight and height!";
    return;
  }

  const h = height / 100; // cm to m
  const bmi = (weight / (h * h)).toFixed(2);

  let category = "";
  if (bmi < 18.5) category = "Underweight";
  else if (bmi < 25) category = "Normal weight";
  else if (bmi < 30) category = "Overweight";
  else category = "Obese";

  document.getElementById("bmiResult").innerText =
    `Your BMI is ${bmi} (${category})`;
}

// Date Difference Calculator
function calculateDateDiff() {
  const start = document.getElementById("startDate").value;
  const end = document.getElementById("endDate").value;

  if (!start || !end) {
    document.getElementById("diffResult").innerText = "‚ö†Ô∏è Please select both dates!";
    return;
  }

  const startDate = new Date(start);
  const endDate = new Date(end);

  if (endDate < startDate) {
    document.getElementById("diffResult").innerText = "‚ö†Ô∏è End date must be after start date!";
    return;
  }

  const diffTime = Math.abs(endDate - startDate);
  const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));

  document.getElementById("diffResult").innerText =
    `Difference: ${diffDays} days`;
}
